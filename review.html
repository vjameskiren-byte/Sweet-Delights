<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sweet Delights' Review</title>
        <link rel="stylesheet" href="css/review.css">
        <link rel="icon" href="https://static.vecteezy.com/system/resources/previews/023/816/972/original/cake-slice-icon-png.png"
        type="image/x-icon">
        <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    </head>
    <div class="wrapper">
		<h3>Rate <span>Sweet Delights!</span></h3>
		<form action="#" id="reviewForm">
			<div class="rating">
				<input type="number" name="rating" hidden>
				<i class='bx bx-star star' style="--i: 0;"></i>
				<i class='bx bx-star star' style="--i: 1;"></i>
				<i class='bx bx-star star' style="--i: 2;"></i>
				<i class='bx bx-star star' style="--i: 3;"></i>
				<i class='bx bx-star star' style="--i: 4;"></i>
			</div>
            <label id="username">Username:</label>
            <input type="text" id="user" placeholder="@example">
            <label id="Name">Full Name:</label>
            <input type="text" id="name">
			<textarea name="opinion" cols="30" rows="5" placeholder="Your Feedback..."></textarea>
			<div class="btn-group">
				<button type="submit" class="btn submit" onclick="MyFunction()">Submit</button>
				<button class="btn cancel" onclick="Cancel()">Cancel</button>

				<a href="index.html">Go Back to Home</a>
			</div>
		</form>
	</div>
  

<script>
const allStar = document.querySelectorAll('.rating .star')
const ratingValue = document.querySelector('.rating input')
const submit = document.querySelector('.submit');
const reviewForm = document.getElementById('reviewForm');

allStar.forEach((item, idx)=> {
	item.addEventListener('click', function () {
		let click = 0
		ratingValue.value = idx + 1

		allStar.forEach(i=> {
			i.classList.replace('bxs-star', 'bx-star')
			i.classList.remove('active')
		})
		for(let i=0; i<allStar.length; i++) {
			if(i <= idx) {
				allStar[i].classList.replace('bx-star', 'bxs-star')
				allStar[i].classList.add('active')
			} else {
				allStar[i].style.setProperty('--i', click)
				click++
			}
		}
	})
})

    reviewForm.addEventListener('submit', function(event) {
        event.preventDefault(); 

        MyFunction();
    });

	function MyFunction() {
    Swal.fire({
        title: "Thank You!",
        text: "Your Feedback is Sent! Thank you for leaving your review.",
        icon: "success"
    })
	};

    function Cancel() {
        alert("Cancelling feedback...");
		window.location.assign("index.html");
    }


</script>
<script src="https://smtpjs.com/v3/smtp.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>
</html>